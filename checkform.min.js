/* Created by Mikelarg (c) 2015 */
function CheckFormHelper(){}function validateEmail(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)}var checkValI=0;!function(e){function t(e){jQuery(e.target).checkInput()}function r(e){var t={};return e=CheckFormHelper.defaultParameter(e,t),e.addHTML=CheckFormHelper.defaultParameter(e.addHTML,'<div class = "valCheck"><div class="valCheckSymbol"></div><div class = "valCheckText"></div></div>'),e}e.fn.checkForm=function(e){var a=this.find("input[inputnec]").length,i=this.find("input[submitcheck]"),n=this,c=this.find("input[inputcheck]"),o=this.find("input[inputcheckajax]");e=r(e),c.add(o).each(function(){var t=jQuery(this);t.data("options",e),t.checkInput()}),n.attr("nec_inp",a),a>0&&i.prop("disabled",!0),c.add(o).unbind("blur",t),c.add(o).blur(t)},e.fn.addInputCheckVal=function(e,a){var i=this,n=this.find("input[inputnec]").length,c=this.find("input[submitcheck]");a=r(a),e.each(function(){var e=jQuery(this);e.data("options",a),e.checkInput()}),i.attr("nec_inp",n),n>0&&c.prop("disabled",!0),e.unbind("blur",t),e.blur(t)},e.fn.checkInput=function(){var e=this,t=!CheckFormHelper.isUndefined(e.attr("inputnec")),r=!CheckFormHelper.isUndefined(e.attr("inputcheck"))&&""!=e.attr("inputcheck"),a=!CheckFormHelper.isUndefined(e.attr("inputcheckajax")),i=CheckFormHelper.defaultParameter(e.attr("inputarg"),""),n=e.data("options"),c=n.addHTML;if(i=JSON.parse("{"+i+"}"),r||a)if(""!=e.val()){var o;if(a)o=e.attr("inputcheckajax"),window[o](e,e.val(),i);else{o=e.attr("inputcheck");var d=window[o](e.val(),i);d?CheckFormHelper.addRight(e,c):CheckFormHelper.addError(e,e.attr("text_error"),c)}}else CheckFormHelper.removeRight(e);else CheckFormHelper.typical(e,c);t&&!a&&CheckFormHelper.formValid(this.parents("form[formcheck]"))},e.fn.onRightInput=function(e,t){t=CheckFormHelper.defaultParameter(t,!1),this.data("overrideOnRightInput",t),this.bind("onRightInput",e)},e.fn.onWrongInput=function(e,t){t=CheckFormHelper.defaultParameter(t,!1),this.data("overrideOnWrongInput",t),this.bind("onWrongInput",e)},e.fn.onRemoveStateInput=function(e,t){t=CheckFormHelper.defaultParameter(t,!1),this.data("overrideOnRemoveStateInput",t),this.bind("onRemoveStateInput",e)},e.fn.changeErrorMessage=function(e){this.attr("text_error",e)}}(jQuery),CheckFormHelper.checkValAjax=function(e,t,r){r=CheckFormHelper.defaultParameter(r,'<div class = "valCheck"><div class="valCheckSymbol"></div> <div class = "valCheckText"></div></div>'),t?CheckFormHelper.addRight(e,r):CheckFormHelper.addError(e,e.attr("text_error"),r),CheckFormHelper.formValid(e.parents("form[formcheck]"))},CheckFormHelper.typical=function(e,t){""==e.val()?CheckFormHelper.removeRight(e,t):e.val()&&CheckFormHelper.addRight(e,t)},CheckFormHelper.addError=function(e,t,r){var a=e.data("overrideOnWrongInput");if(e.attr("closed","-"),e.hasClass("right")&&e.removeClass("right"),e.addClass("wrong"),!a){CheckFormHelper.isUndefined(e.attr("id_input_message"))&&(e.after(r),e.next().attr("valCheckId",checkValI),e.attr("id_input_message",checkValI),checkValI++);var i=e.attr("id_input_message"),n=jQuery("*[valCheckId="+i+"]"),c=jQuery("*[valCheckId="+i+"] .valCheckText");1==n.attr("right")&&c.animate({opacity:1},100),n.attr("right",0);var o=e.offset(),d=o.left+e.outerWidth(!0)+5,h=o.top+(e.outerHeight(!0)-n.outerHeight(!0))/2;n.offset({top:h,left:d}),c.text(t),n.animate({opacity:1},500)}e.trigger("onWrongInput",r,t),CheckFormHelper.formValid(e.parents("form[formcheck]"))},CheckFormHelper.removeRight=function(e){var t=e.attr("id_input_message"),r=e.data("overrideOnRemoveStateInput");e.attr("closed","none"),e.removeClass("right"),e.removeClass("wrong"),CheckFormHelper.isUndefined(t)||r||jQuery("*[valCheckId="+t+"]").animate({opacity:0},100),e.trigger("onRemoveStateInput"),CheckFormHelper.formValid(e.parents("form[formcheck]"))},CheckFormHelper.addRight=function(e,t){var r=e.data("overrideOnRightInput");if(e.hasClass("wrong")&&e.removeClass("wrong"),e.addClass("right"),e.attr("closed","+"),!r){CheckFormHelper.isUndefined(e.attr("id_input_message"))&&(e.after(t),e.next().attr("valCheckId",checkValI),e.attr("id_input_message",checkValI),checkValI++);var a=e.attr("id_input_message"),i=jQuery("*[valCheckId="+a+"]"),n=jQuery("*[valCheckId="+a+"] .valCheckText");0==i.attr("right")&&n.animate({opacity:0},100),i.attr("right",1);var c=e.offset(),o=c.left+e.outerWidth(!0)+5,d=c.top+(e.outerHeight(!0)-i.outerHeight(!0))/2;i.offset({top:d,left:o}),i.animate({opacity:1},100)}e.trigger("onRightInput",t),CheckFormHelper.formValid(e.parents("form[formcheck]"))},CheckFormHelper.formValid=function(e){var t=0;e.find("input[inputnec]").each(function(){"+"==jQuery(this).attr("closed")&&t++}),t==e.attr("nec_inp")?e.find("input[submitcheck]").removeAttr("disabled"):e.find("input[submitcheck]").prop("disabled",!0)},CheckFormHelper.defaultParameter=function(e,t){return"undefined"!=typeof e?e:t},CheckFormHelper.isUndefined=function(e){return"undefined"==typeof e};